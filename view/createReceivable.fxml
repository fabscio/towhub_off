<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<VBox spacing="15.0" style="-fx-background-color: #ecf0f1;" xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controller.ReceivableController">
    <padding> <Insets bottom="20" left="20" right="20" top="20" /> </padding>

    <Label text="Nova Conta a Receber (Lote)" textFill="#2c3e50">
        <font> <Font name="System Bold" size="24.0" /> </font>
    </Label>

    <TitledPane collapsible="false" text="Dados do Lote de Cobrança">
        <content>
            <GridPane hgap="15.0" vgap="15.0">
                <columnConstraints>
                    <ColumnConstraints halignment="RIGHT" minWidth="120.0" />
                    <ColumnConstraints hgrow="ALWAYS" />
                    <ColumnConstraints halignment="RIGHT" minWidth="120.0" />
                    <ColumnConstraints hgrow="ALWAYS" />
                </columnConstraints>

                <Label text="ID Lote:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <TextField fx:id="txtIdLote" text="CLIE_1020" disable="true" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                <Label text="Cliente (PJ):" GridPane.rowIndex="0" GridPane.columnIndex="2"/>
                <ComboBox fx:id="cbCliente" maxWidth="Infinity" promptText="Selecione o Cliente..." GridPane.rowIndex="0" GridPane.columnIndex="3"/>

                <Label text="Emissão:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                <DatePicker fx:id="dtEmissao" maxWidth="Infinity" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                <Label text="Vencimento:" GridPane.rowIndex="1" GridPane.columnIndex="2"/>
                <DatePicker fx:id="dtVencimento" maxWidth="Infinity" GridPane.rowIndex="1" GridPane.columnIndex="3"/>

                <Label text="Status:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                <ComboBox fx:id="cbStatus" maxWidth="Infinity" GridPane.rowIndex="2" GridPane.columnIndex="1"/>
            </GridPane>
        </content>
    </TitledPane>

    <TitledPane collapsible="false" text="Ordens de Serviço do Lote" VBox.vgrow="ALWAYS" maxHeight="Infinity">
        <content>
            <HBox spacing="20.0">
                <TableView fx:id="tabelaOs" HBox.hgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="colIdOs" prefWidth="100.0" text="ID OS" />
                        <TableColumn fx:id="colDataOs" prefWidth="150.0" text="Data OS" />
                        <TableColumn fx:id="colValorOs" prefWidth="150.0" text="Valor (R$)" style="-fx-alignment: CENTER-RIGHT;"/>
                    </columns>
                    <columnResizePolicy> <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" /> </columnResizePolicy>
                </TableView>

                <VBox spacing="10.0" minWidth="250.0">
                    <Label text="Adicionar OS ao Lote" style="-fx-font-weight: bold;"/>

                    <Label text="Selecione a OS Pendente:"/>
                    <ComboBox fx:id="cbOsDisponiveis" maxWidth="Infinity" promptText="Buscar OS..."/>

                    <Button text="Adicionar (+)" onAction="#handleAdicionarOs" maxWidth="Infinity" style="-fx-background-color: #2ecc71; -fx-text-fill: white; -fx-cursor: hand; -fx-font-weight: bold;"/>

                    <Button text="Remover Selecionada" onAction="#handleRemoverOs" maxWidth="Infinity" style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-cursor: hand;"/>

                    <Separator> <VBox.margin> <Insets top="10" bottom="10"/> </VBox.margin> </Separator>

                    <Label text="VALOR TOTAL DO LOTE">
                        <font> <Font size="10.0" /> </font>
                    </Label>
                    <Label fx:id="lblTotalLote" text="R$ 0,00" textFill="#2980b9">
                        <font> <Font name="System Bold" size="26.0" /> </font>
                    </Label>

                    <Region VBox.vgrow="ALWAYS"/>
                    <Button text="GERAR FATURA" onAction="#handleSalvar" maxWidth="Infinity" prefHeight="45" style="-fx-background-color: #2980b9; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand;"/>
                </VBox>
            </HBox>
        </content>
    </TitledPane>
</VBox>
